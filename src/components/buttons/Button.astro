---
import { Image, Picture } from 'astro:assets'
import type { ImportedImage } from './Buttons.astro'

export interface Props {
    image: ImportedImage
}

const {image} = Astro.props

const ButtonElement = image.oneFormat ? Image : Picture
const WrapperElement = image.url ? "a" : Fragment

---
<style lang="scss">
    .button {
        transition-duration: 100ms;
        transition-property: transform;
    }

    .button:hover {
        transform: scale(115%);
    }
</style>
<WrapperElement href={image.url}>
    {
        ("src" in image)
            ? <ButtonElement 
                class="button" 
                src={image} 
                alt={image.alt || ""}
                {...(image.oneFormat ? {} : {formats:['avif','webp']})}
                width="88"
                height="31"
                quality="max"
            />
            : <img class="button" src={image.directUrl || `/gifBtns/${image.basename}.gif`} alt={image.alt} width="88" height="31">
    }
</WrapperElement>