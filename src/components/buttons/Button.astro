---
import type { ImportedImage } from './Buttons.astro'

export interface Props {
    image: ImportedImage
}

const {image} = Astro.props

const WrapperElement = image.url ? "a" : "div"

---
<style lang="scss">
    ._88x31 {
        transition-duration: 100ms;
        margin:0;
        box-shadow: 0 0 0px var(--backgroundColorTransparent);
        transition-property: box-shadow, transform;
    }

    button:hover, a:focus-visible > ._88x31 {
        transform: scale(115%);
        background: var(--backgroundColorTransparent);
        box-shadow: 0 0 10px #999;
        outline: 2px solid #ccc;

        @media (prefers-reduced-motion) {
            transform: none;
        }
    }

    img {
        display:block;
        // is there a better way to do this or like. no
        // maybe i shouldn't even do this
        color: black;
        background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAAAfCAYAAABjyArgAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAjtJREFUaIHtmL2q4kAYhl+TFRUUtQgqSqysRAt/qlNLGi9AsMkVeEfegCDaWIid1hYKNtpICtGgRaJiCMRssRBOzjludCFmZsnTfTMJvDx8fJlMYLfbmfBxDcbrAP87vmCX8QW7jC/YZX55HeAZNE2DJElQFAWBQACxWAw8zyMSiXgdzRGiBZ/PZ0wmE6xWK9zvd9sewzAoFAoQBAHJZNKjhM4ESD2mqaqKbrcLVVX/+lw4HIYoikilUm9K9hrEzuDRaPRNbiKRQDQata1pmobhcAjTJLJPyBwRiqJgs9lYdTAYRLvdRj6fBwAsl0sMBgNrf7/f43A4IJ1Ovz2rE0R2sCzLto4slUqWXAAol8vgOM72zul0elu+VyCyg3meR6fTseqfTgu3281Wsyzreq5/gUjBoVAIoVDo4f58PsflcrFqhmGQy+XeEe1liBT8CNM0MZ1OMZ1Obeu1Wu3bx48UqBGs6zr6/T7W67VtvVgsotFoeJTKGWoEj8djm1yWZSEIAur1uoepnKFCsK7rWCwWVs2yLERRJHbufobIY9pXZFmGYRhWXa1WqZALUCL465GMFrkAJSOC4zg0m02r/vzTQTrEXvb8hGEYxP5QPIKKDr5er+j1epAkCel0Gq1WC/F43OtYT0HFDJ7NZpAkCcCfi53JZOJxouehQvD1erXVTnfEJEGF4EqlYs1ehmHw8fHhcaLnoeYjdzwesd1ukclkkM1mvY7zNNQIphUqRgTN+IJdxhfsMr5gl/kNHkCwMwhaRUQAAAAASUVORK5CYII=");
        // https://88x31.kate.pet
        image-rendering: auto;
        image-rendering: crisp-edges;
        image-rendering: pixelated;
        image-rendering: -webkit-optimize-contrast;
    }
</style>
<WrapperElement href={image.url} target="_blank">
    <img 
        class="_88x31"
        src={
            ('directUrl' in image 
            ? image.directUrl 
            : image.src) 
            || `/gifBtns/${image.basename}.gif`
        }
        alt={image.alt}
        width="88" height="31"
        title={image.alt}
    >
</WrapperElement>